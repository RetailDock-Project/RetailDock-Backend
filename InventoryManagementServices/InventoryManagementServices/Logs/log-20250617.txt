2025-06-17 10:03:59.023 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 10:03:59.054 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 10:03:59.125 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 10:03:59.127 +05:30 [INF] Hosting environment: Development
2025-06-17 10:03:59.128 +05:30 [INF] Content root path: D:\RetailDock\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 10:03:59.358 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/index.html - null null
2025-06-17 10:03:59.486 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/index.html - 200 null text/html;charset=utf-8 128.1417ms
2025-06-17 10:03:59.503 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - null null
2025-06-17 10:03:59.509 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.2772ms
2025-06-17 10:03:59.512 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_vs/browserLink - null null
2025-06-17 10:03:59.554 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.2389ms
2025-06-17 10:03:59.767 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - null null
2025-06-17 10:03:59.822 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.394ms
2025-06-17 17:26:20.284 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 17:26:20.366 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 17:26:20.603 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 17:26:21.216 +05:30 [INF] Hosting environment: Development
2025-06-17 17:26:21.217 +05:30 [INF] Content root path: D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 17:26:26.589 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/index.html - null null
2025-06-17 17:26:26.725 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/index.html - 200 null text/html;charset=utf-8 139.49ms
2025-06-17 17:26:26.984 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - null null
2025-06-17 17:26:26.989 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 4.6477ms
2025-06-17 17:26:27.039 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_vs/browserLink - null null
2025-06-17 17:26:27.071 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.1426ms
2025-06-17 17:26:27.353 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - null null
2025-06-17 17:26:27.373 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.4082ms
2025-06-17 19:23:29.065 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 19:23:29.148 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 19:23:29.433 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 19:23:29.548 +05:30 [INF] Hosting environment: Development
2025-06-17 19:23:29.554 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/index.html - null null
2025-06-17 19:23:29.561 +05:30 [INF] Content root path: D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 19:23:30.285 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/index.html - 200 null text/html;charset=utf-8 732.6104ms
2025-06-17 19:23:30.333 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - null null
2025-06-17 19:23:30.333 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_vs/browserLink - null null
2025-06-17 19:23:30.403 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 69.5833ms
2025-06-17 19:23:30.458 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.1779ms
2025-06-17 19:23:34.023 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - null null
2025-06-17 19:23:34.070 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.0297ms
2025-06-17 19:30:08.578 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7163/product.ProductService/GetProductsByOrganization - application/grpc null
2025-06-17 19:30:08.863 +05:30 [INF] Executing endpoint 'gRPC - /product.ProductService/GetProductsByOrganization'
2025-06-17 19:30:14.646 +05:30 [INF] Received gRPC request for products of orgId: 5711e964-a0c6-44ff-ab2e-ea484a063fde
2025-06-17 19:30:19.672 +05:30 [INF] Executed DbCommand (570ms) [Parameters=[@__OrganizationId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`BarCodeImageBase64`, `p`.`CostPrice`, `p`.`CreatedAt`, `p`.`CreatedBy`, `p`.`Description`, `p`.`HsnCodeId`, `p`.`IsDeleted`, `p`.`LastStockUpdate`, `p`.`MRP`, `p`.`OrgnaisationId`, `p`.`ProductCategoryId`, `p`.`ProductCode`, `p`.`ProductName`, `p`.`ReOrderLevel`, `p`.`SellingPrice`, `p`.`Stock`, `p`.`UnitOfMeasuresId`, `p`.`UpdatedAt`, `p`.`UpdatedBy`, `u`.`Id`, `p0`.`ProductCategoryId`, `h`.`HsnCodeId`, `i`.`Id`, `i`.`ContentType`, `i`.`CreatedAt`, `i`.`FileName`, `i`.`ImageData`, `i`.`ProductId`, `u`.`IsDeleted`, `u`.`Measurement`, `u`.`OrgnaisationId`, `p0`.`IsDeleted`, `p0`.`OrgnaisationId`, `p0`.`ProductCategoryName`, `h`.`GstRate`, `h`.`HSNCodeNumber`, `h`.`IsDeleted`, `h`.`OrgnaisationId`
FROM `Products` AS `p`
INNER JOIN `UnitOfMeasures` AS `u` ON `p`.`UnitOfMeasuresId` = `u`.`Id`
INNER JOIN `ProductCategories` AS `p0` ON `p`.`ProductCategoryId` = `p0`.`ProductCategoryId`
INNER JOIN `HsnCodes` AS `h` ON `p`.`HsnCodeId` = `h`.`HsnCodeId`
LEFT JOIN `Images` AS `i` ON `p`.`Id` = `i`.`ProductId`
WHERE NOT (`p`.`IsDeleted`) AND (`p`.`OrgnaisationId` = @__OrganizationId_0)
ORDER BY `p`.`Id`, `u`.`Id`, `p0`.`ProductCategoryId`, `h`.`HsnCodeId`
2025-06-17 19:30:20.394 +05:30 [INF] Executed endpoint 'gRPC - /product.ProductService/GetProductsByOrganization'
2025-06-17 19:30:20.419 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7163/product.ProductService/GetProductsByOrganization - 200 null application/grpc 11846.2937ms
2025-06-17 19:30:27.230 +05:30 [WRN] As of ""2025-06-17T14:00:27.2037987+00:00"", the heartbeat has been running for ""00:00:01.9793711"" which is longer than ""00:00:01"". This could be caused by thread pool starvation.
2025-06-17 20:17:06.776 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 20:17:06.915 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 20:17:07.257 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 20:17:07.262 +05:30 [INF] Hosting environment: Development
2025-06-17 20:17:07.266 +05:30 [INF] Content root path: D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 20:17:10.601 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/index.html - null null
2025-06-17 20:17:11.806 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/index.html - 200 null text/html;charset=utf-8 1213.655ms
2025-06-17 20:17:12.166 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - null null
2025-06-17 20:17:12.205 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 38.8899ms
2025-06-17 20:17:12.304 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_vs/browserLink - null null
2025-06-17 20:17:12.737 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_vs/browserLink - 200 null text/javascript; charset=UTF-8 433.1325ms
2025-06-17 20:17:13.358 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - null null
2025-06-17 20:17:13.509 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.8187ms
2025-06-17 20:25:39.702 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 20:25:39.769 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 20:25:39.957 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 20:25:39.964 +05:30 [INF] Hosting environment: Development
2025-06-17 20:25:39.970 +05:30 [INF] Content root path: D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 20:51:41.232 +05:30 [INF] Now listening on: https://localhost:7163
2025-06-17 20:51:41.328 +05:30 [INF] Now listening on: http://localhost:5063
2025-06-17 20:51:41.571 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-17 20:51:41.579 +05:30 [INF] Hosting environment: Development
2025-06-17 20:51:41.585 +05:30 [INF] Content root path: D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices
2025-06-17 20:51:42.580 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/index.html - null null
2025-06-17 20:51:43.325 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/index.html - 200 null text/html;charset=utf-8 747.5025ms
2025-06-17 20:51:43.666 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - null null
2025-06-17 20:51:43.666 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/_vs/browserLink - null null
2025-06-17 20:51:43.712 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 44.8312ms
2025-06-17 20:51:43.901 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/_vs/browserLink - 200 null text/javascript; charset=UTF-8 234.2615ms
2025-06-17 20:51:44.710 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - null null
2025-06-17 20:51:44.896 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.1334ms
2025-06-17 20:55:45.070 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7163/api/Ledger/c1b30492-cd1e-4d94-a161-16f17a1ba413 - null null
2025-06-17 20:55:45.126 +05:30 [INF] Executing endpoint 'API.Controllers.LedgerController.GetProducts (API)'
2025-06-17 20:55:45.227 +05:30 [INF] Route matched with {action = "GetProducts", controller = "Ledger"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProducts(System.Guid) on controller API.Controllers.LedgerController (API).
2025-06-17 20:55:52.239 +05:30 [INF] Call failed with gRPC error status. Status code: '"Unavailable"', Message: 'Error connecting to subchannel.'.
System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(ConnectContext context, Int32 attempt)
2025-06-17 20:55:52.335 +05:30 [INF] Executed action API.Controllers.LedgerController.GetProducts (API) in 7092.2187ms
2025-06-17 20:55:52.345 +05:30 [INF] Executed endpoint 'API.Controllers.LedgerController.GetProducts (API)'
2025-06-17 20:55:52.366 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: gRPC Error: Error connecting to subchannel.
 ---> Grpc.Core.RpcException: Status(StatusCode="Unavailable", Detail="Error connecting to subchannel.", DebugException="System.Net.Sockets.SocketException: No connection could be made because the target machine actively refused it.")
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.SocketConnectivitySubchannelTransport.TryConnectAsync(ConnectContext context, Int32 attempt)
   --- End of inner exception stack trace ---
   at Grpc.Net.Client.Balancer.Internal.ConnectionManager.PickAsync(PickContext context, Boolean waitForReady, CancellationToken cancellationToken)
   at Grpc.Net.Client.Balancer.Internal.BalancerHttpHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Grpc.Net.Client.Internal.GrpcCall`2.RunCall(HttpRequestMessage request, Nullable`1 timeout)
   at API.Services.LedgerConsumerService.GetPurchaseLedgers(Guid orgId) in D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices\Services\LedgerConsumerService.cs:line 21
   --- End of inner exception stack trace ---
   at API.Services.LedgerConsumerService.GetPurchaseLedgers(Guid orgId) in D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices\Services\LedgerConsumerService.cs:line 27
   at API.Controllers.LedgerController.GetProducts(Guid orgId) in D:\RetailDock-Backend\services\InventoryManagementServices\InventoryManagementServices\Controllers\LedgerController.cs:line 21
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-17 20:55:52.464 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7163/api/Ledger/c1b30492-cd1e-4d94-a161-16f17a1ba413 - 500 null text/plain; charset=utf-8 7394.6601ms
